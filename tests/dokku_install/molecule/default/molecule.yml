---
driver:
  name: "docker"
platforms:
  - name: "${TEST_NAME}"
    # Dokku v0.35.x doesn't support Debian 13 (trixie)
    image: "geerlingguy/docker-debian12-ansible:latest"
    pre_build_image: true
    # Necessary for systemd to work properly
    privileged: true
    cgroupns_mode: "host"
    command: ""
    volumes:
      - "/sys/fs/cgroup:/sys/fs/cgroup:rw"
provisioner:
  name: "ansible"

scenario:
  test_sequence:
    # - dependency
    # - cleanup
    - "destroy"
    - "syntax"
    - "create"
    - "prepare"
    - "converge"
    - "idempotence"
    # - side_effect
    - "verify"
    # - cleanup
    - "destroy"
